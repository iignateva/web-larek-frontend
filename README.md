# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Базовый код

### класс WebLarek
Класс для работы с сервером. Реализует интерфейс WebLarekApi. Основные методы: 
 - getProducts() - возвращает все доступные продукты
 - getProduct(id) - возвращает данные по указанному id продукта
 - confirmOrder(order) - создает заказ, возвращает id заказа или ошибку

### класс EventEmitter 
Брокер событий, используется для создания событий, подписки на события, и удаления подписки.
Методы: 
 - on(eventName, callback) - для подписки на указанное событие
 - off(eventName, callback) - удаление подписки на указанное событие
 - emit(eventName, data?) — создание события
Также можно подписать всех слушателей на событие, используя метод ```onAll``` и отписать всех от события, используя ```offAll```.
Метод ```trigger``` может использоваться как callback в классах, не зависящих от EventEmitter, для создания события с заданными
аргументами.


### 1. Компоненты модели данных (бизнес-логика)

1.1 Класс ```Order```, предназначен для создания заказа. Неизменяемые данные - общая стоимость заказа ```total``` и список id товаров ```items``` передаются из корзины при создании заказа. Остальные данные - адрес, формы оплаты, телефон, email - заполняются отдельно. 
Класс реализует интерфейс ```IOrder``` с методами:
 - toOrderRequest(): IOrderRequest - возвращает заказ в формате ```IOrderRequest```

1.2 Класс ```ShoppingCart```- корзина для формирования списка продуктов, которые может заказать пользователь.
В корзину можно добавлять продукты и удалять их используя методы ```addItem(product)``` и ```deleteItem``` соответственно.
В методе ```order``` отправляется событие о том, что из корзины нужно создать заказ. 
Класс реализует интерфейс ```IShoppingCart<IProduct>```.

1.3 Интерфейсы для структур данных, приходящих из API, оставляем интерфейсами, так как не предполагается их редактирование: 
```IProducts``` - содержит список товаров в свойстве ```items``` и их общее количество в свойстве ```total```
```IProduct``` - информация об одном товаре
```IOrderRequest``` отображает структуру данных для формирования заказа
```IOrderResponse``` ответ успешного создания заказа
```IApiErrorResponse``` - ошибка сервера


### 2. Компоненты отображения (ui)

2.1 Page 